<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Port of Colombo Truck Travel Time Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios@1.7.2/dist/axios.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    
</head>

<body>
     <div class="wrapper">
        <div class="main-container">
            <img class="background-video" src="https://news.slpa.lk/wp-content/uploads/2022/05/article_image_colombo-port-1024x683.jpg" alt="Colombo-international-container-terminal"  >

            <div class="overlay"></div>
        </div>
        <div class="navbar">

            <img class="logo" src="https://i.ibb.co/7d8Bm91T/SLPA-Banner-01.png" 
            alt="Port Authority Logo" />
            <ul>
                <li>Home</li>
                <li>Dashboard</li>
                <li>Reports</li>
                <li>Contact</li>
                <li> <button class="dark-toggle" id="darkModeBtn" onclick="toggleDarkMode()"><i class="fa-solid fa-moon" style="color: #ffffff;"></i></button></li>
            </ul>    
            
                <div class="home">
                
                    <h1 class="title">Truck Travel Time Dashboard<br><span class="sp">Colombo Port</span></h1>
                    

                </div>

                
        

        </div>
    </div>
    <br>
    <br>
    <br>

        <main>
        

        <!-- Chart 1: Hourly -->
        <section class="chart-container">
            <h2>One Day Average Travel Time (Hourly)</h2>
            <div class="controls">
                <button class="btn" onclick="changeDate(-1)">Previous Day</button>
                <input type="date" id="dateInput1" onchange="loadChart1Data(this.value)" />
                <button class="btn" onclick="changeDate(1)">Next Day</button>
                <button class="btn" onclick="setChartType('line', 1)">Line Chart</button>
                <button class="btn" onclick="setChartType('bar', 1)">Bar Chart</button>
                <button class="btn" onclick="setChartType('stackedBar', 1)">Stacked Bar</button>
                <button class="btn" onclick="setChartType('scatter', 1)">Scatterplot</button>
            </div>
            <canvas id="chart1" height="100"></canvas>
        </section>

        <hr>

        <!-- Chart 2: Daily -->
        <section class="chart-container">
            <h2>30-Day Average Travel Time (Daily)</h2>
            <div class="controls">
                <button class="btn" onclick="changeMonth(-1, 2)">Previous Month</button>
                <input type="month" id="monthInput2" onchange="loadChart2Data(this.value)" />
                <button class="btn" onclick="changeMonth(1, 2)">Next Month</button>
                <button class="btn" onclick="setChartType('line', 2)">Line Chart</button>
                <button class="btn" onclick="setChartType('bar', 2)">Bar Chart</button>
                <button class="btn" onclick="setChartType('stackedBar', 2)">Stacked Bar</button>
                <button class="btn" onclick="setChartType('scatter', 2)">Scatterplot</button>
            </div>
            <canvas id="chart2" height="100"></canvas>
        </section>

        <hr>

        <!-- Chart 3: Weekday -->
        <section class="chart-container">
            <h2>Weekday Average Travel Time</h2>
            <div class="controls">
                <button class="btn" onclick="changeMonth(-1, 3)">Previous Month</button>
                <input type="month" id="monthInput3" onchange="loadChart3Data(this.value)" />
                <button class="btn" onclick="changeMonth(1, 3)">Next Month</button>
                <button class="btn" onclick="setChartType('line', 3)">Line Chart</button>
                <button class="btn" onclick="setChartType('bar', 3)">Bar Chart</button>
                <button class="btn" onclick="setChartType('stackedBar', 3)">Stacked Bar</button>
                <button class="btn" onclick="setChartType('scatter', 3)">Scatterplot</button>
            </div>
            <canvas id="chart3" height="100"></canvas>
        </section>
    </main>

    <!-- Loading Indicator and ARIA feedback -->
    <div id="loading">‚è≥ Loading data, please wait...</div>
    <div id="dateFeedback" aria-live="polite" style="position:absolute;left:-9999px;"></div>

    
    
    <script src="{{ url_for('static', filename='charts.js') }}"></script>
